"use strict";angular.module("bDay",["ngRoute","bDay.404","bDay.news","bDay.statistics","bDay.about","bDay.contacts"]).config(["$locationProvider","$routeProvider",function(e,t){e.hashPrefix("!"),e.html5Mode(!0),t.otherwise({redirectTo:"/404"})}]).run(["$rootScope","$route",function(e,t){e.$on("$routeChangeSuccess",function(){document.title=t.current.title})}]),angular.module("bDay.common.date-filter",[]).filter("date",[function(){return function(e){return(e instanceof Date?e:new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})||""}}]),angular.module("bDay.common.focus-service",[]).factory("focus",["$timeout","$window",function(e,t){return function(n){e(function(){var e=t.document.getElementById(n);e&&e.focus()})}}]),angular.module("bDay.common.focus-directive",["bDay.common.focus-service"]).directive("eventFocus",["focus",function(e){return function(t,n,i){n.on(i.eventFocus,function(){e(i.eventFocusId)}),t.$on("$destroy",function(){n.off(i.eventFocus)})}}]),angular.module("bDay.news",["ngRoute","bDay.news.article","bDay.common.date-filter","LocalStorageModule","bDay.news.modal"]),angular.module("bDay.news").config(["$routeProvider","localStorageServiceProvider",function(e,t){t.setPrefix("businessNews").setStorageCookie(1,"/").setNotify(!0,!0),e.when("/",{title:"Business News",templateUrl:"news/news.view.html",controller:"NewsCtrl",resolve:{news:["NewsService",function(e){return e.fetch().then(function(e){return e.data.forEach(function(e){e.date=new Date(e.date)}),e.data},function(){return[]})}]}}).when("/news",{redirectTo:"/"})}]),angular.module("bDay.news").controller("NewsCtrl",["$scope","news","$timeout","localStorageService","NewsService","$routeParams",function(e,t,n,i,a,o){e.isEdit="true"===o.edit,e.news=t,e.modalShown=!1,e.modalArticle={},e.like=function(t){e.news.forEach(function(e){e.id==t&&(e.liked?e.likes--:e.likes++,e.liked=!e.liked,r(t,e.liked))}),a.like(t)},e.toggleModal=function(t){e.modalShown=!e.modalShown;var n=e.news.find(function(e){if(e.id==t)return e});e.modalArticle=angular.copy(n)},e.save=function(t){for(var n=t.id,i=0;i<e.news.length;i++)e.news[i].id==n&&(e.news[i]=angular.copy(t),console.log(e.news[i]))},n(function(){r()});var r=function(t,n){if(i.isSupported){var a=i.get("liked")||[];if(a.length)if(t){if(!n){var o=a.indexOf(t);if(o>=0){for(;o!==-1;)a.splice(o,1),o=a.indexOf(t);i.set("liked",a)}}}else{var r=e.news.map(function(e){return e.id});a.forEach(function(t){var n=r.indexOf(t);n>=0&&(e.news[n].liked=!0,e.news[n].likes++)})}t&&n&&(a.push(t),i.set("liked",a))}}}]),angular.module("bDay.news").service("NewsService",["$http",function(e){this.fetch=function(){return e.get("api/news.json")},this.save=function(e){},this.like=function(e){}}]),angular.module("bDay.news.article",["ngRoute"]),angular.module("bDay.news.article").config(["$routeProvider",function(e){e.when("/news/:id",{title:"Business News",templateUrl:"news/article/article.view.html",controller:"ArticleCtrl",resolve:{article:["$route","$location","NewsService","$sce","$filter",function(e,t,n,i,a){return n.fetch().then(function(n){var a=n.data.find(function(t){if(t.id==e.current.params.id)return t.trustedText=i.trustAsHtml(t.text),t.date=new Date(t.date),t});return a||t.path("/404")},function(){t.path("/404")})}]}})}]),angular.module("bDay.news.article").controller("ArticleCtrl",["$scope","article","$routeParams","$sce",function(e,t,n,i){e.isEdit="true"===n.edit,e.article=t,e.editArticle={},e.saved=!1,e.isEdit&&(e.editArticle=angular.copy(e.article),e.save=function(){e.article=angular.copy(e.editArticle),e.article.trustedText=i.trustAsHtml(e.article.text),e.saved=!0})}]),angular.module("bDay.news.modal",[]),angular.module("bDay.news.modal").directive("modalDialog",function(){return{restrict:"E",scope:{show:"=",article:"=",save:"="},transclude:!0,link:function(e,t,n){e.dialogStyle={},n.boxWidth&&(e.dialogStyle.width=n.boxWidth),n.boxHeight&&(e.dialogStyle.height=n.boxHeight),e.hideModal=function(){e.show=!1},e.saveChanges=function(t){e.save(t),e.hideModal()}},templateUrl:"news/modal/modal.view.html"}}),angular.module("bDay.statistics",["ngRoute"]),angular.module("bDay.statistics").directive("chart",function(){return{restrict:"E",template:"<div></div>",transclude:!0,replace:!0,scope:"=",link:function(e,t,n){var i={chart:{renderTo:t[0],type:"line",marginRight:130,marginBottom:40},title:{text:n.title,x:-20},subtitle:{text:n.subtitle,x:-20},xAxis:{tickInterval:1,title:{text:n.xname},categories:e[n.xdata]},plotOptions:{lineWidth:.5},yAxis:{title:{text:n.yname},tickInterval:n.yinterval?new Number(n.yinterval):null,max:n.ymax,min:n.ymin},tooltip:{formatter:e[n.formatter]||function(){return"<b>"+this.y+"</b>"}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-10,y:100,borderWidth:0},series:e[n.ydata]};e.$watch(function(e){return JSON.stringify({xAxis:{categories:e[n.xdata]},series:e[n.ydata]})},function(e){if(e=JSON.parse(e),e.series){angular.extend(i,e);new Highcharts.Chart(i)}})}}}),angular.module("bDay.statistics").config(["$routeProvider",function(e){e.when("/stats",{title:"Business News - Statistics",templateUrl:"statistics/statistics.view.html",controller:"StatisticsCtrl",resolve:{statistics:["StatisticsService",function(e){return e.fetch().then(function(e){return e.data},function(){return{xData:[],yData:[]}})}]}}).when("/news",{redirectTo:"/"})}]),angular.module("bDay.statistics").controller("StatisticsCtrl",["$scope","statistics",function(e,t){e.lineChartYData=t.yData,e.lineChartXData=t.xData}]),angular.module("bDay.statistics").service("StatisticsService",["$http",function(e){this.fetch=function(){return e.get("api/statistics.json")}}]),angular.module("bDay.about",["ngRoute","bDay.common.date-filter","bDay.common.focus-directive"]),angular.module("bDay.about").config(["$routeProvider",function(e){e.when("/about",{title:"Business News - About",templateUrl:"about/about.view.html",controller:"AboutCtrl"})}]),angular.module("bDay.about").controller("AboutCtrl",["$scope","$routeParams","$sce","AboutService",function(e,t,n,i){e.isEdit="true"===t.edit,e.company={description:'Business Day - is an American daily newspaper, founded and continuously published in New York City since September 18, 1851, by The New York Times Company. The New York Times has won 117 Pulitzer Prizes, more than any other news organization<br><br>The paper\'s print version has the second-largest circulation, behind The Wall Street Journal, and the largest circulation among the metropolitan newspapers in the United States of America. The New York Times is ranked 39th in the world by circulation. Following industry trends, its weekday circulation has fallen to fewer than one million daily since 1990.<br><br>Nicknamed "The Gray Lady", The New York Times has long been regarded within the industry as a national "newspaper of record". The New York Times is owned by The New York Times Company. Arthur Ochs Sulzberger, Jr., the Publisher and the Chairman of the Board, is a member of the Ochs-Sulzberger family that has controlled the paper since 1896. The New York Times international version, formerly the International Herald Tribune, is now called the International New York Times.',descriptionText:"",foundingDate:new Date("06.19.1990"),numberOfEmployees:18,founderName:"Alexander Abumov"},e.company.trustedDescription=n.trustAsHtml(e.company.description),e.save=function(){i.save(e.company)},e.convertDescription=function(t){e.isEdit&&(t?(e.company.descriptionText=e.company.descriptionText.replace(/(<([^>]+)>)/gi,""),e.company.description=e.company.descriptionText.replace(/(?:\r\n|\r|\n)/g,"<br>"),e.company.trustedDescription=n.trustAsHtml(e.company.description)):e.company.descriptionText=e.company.description.replace(/(<br>)/g,"\r\n"))}}]),angular.module("bDay.about").service("AboutService",[function(){this.save=function(e){}}]),angular.module("bDay.contacts",["ngRoute","ngMessages"]),angular.module("bDay.contacts").config(["$routeProvider",function(e){e.when("/contacts",{title:"Business News - Contacts",templateUrl:"contacts/contacts.view.html",controller:"ContactsCtrl"})}]),angular.module("bDay.contacts").controller("ContactsCtrl",["$scope",function(e){const t="Your Message has been sent!";e.form={name:"Alexander",email:"example@example.com",message:"",success:""},e.submit=function(){e.form.success=t}}]),angular.module("bDay.404",["ngRoute"]),angular.module("bDay.404").config(["$routeProvider",function(e){e.when("/404",{title:"Business News - 404",templateUrl:"404/404.view.html",controller:"404Ctrl"})}]),angular.module("bDay.404").controller("404Ctrl",[function(){}]);
//# sourceMappingURL=main.min.js.map
